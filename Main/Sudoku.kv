#: import WipeTransition kivy.uix.screenmanager.WipeTransition
#: import SwapTransition kivy.uix.screenmanager.SwapTransition
#: import SlideTransition kivy.uix.screenmanager.SlideTransition
#: import FadeTransition kivy.uix.screenmanager.FadeTransition


MainMenuManager:
    MainMenu:

    ClassicMenu:
    ClassicGame:

    MultiplayerMenu:
    MultiplayerGame:

    AccountMenu:
    Login:
    Register:

    BestTimes:
    

<MainMenuManager>:


<BaseScreen>:
    name : "BaseScreen"
    canvas.before:
        Color : 
            rgba : 1, 1, 1, 0.07
        Rectangle:
            size: self.size
            
    
    canvas.after:
        Rectangle:
            size: self.size
            source : root.borderFile

    

<Menu>:
    Button:
        name : "ReturnToMainMenu"
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition = FadeTransition()
            app.root.current = "MainMenu"

    


<GameScreen>:
    name : "GameScreen"

    Button:
        id : timer
        text: "00:00"
        background_color : 0, 1, 0.5, 1
        size_hint : 0.1, 0.07
        pos_hint : {"center_x" : 0.5, "top": 0.99}
        on_release: root.pauseGame()

    AnchorLayout:
        anchor_x: "center"
        anchor_y: "center"
        GridLayout:
            size_hint_x : None
            size_hint_y : None
            width : 600
            height : 600
            id : grid
            cols: 3 
            rows: 3
            spacing : 8
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box1
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box2
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box3
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box4
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box5
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box6
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box7
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box8
                cols: 3 
                rows: 3
                spacing : 2
            GridLayout:
                size_hint_x : None
                size_hint_y : None
                width : 200
                height : 200
                id : box9
                cols: 3 
                rows: 3
                spacing : 2


            
    GridLayout:
        width: 175
        height: 175
        size_hint_x : None
        size_hint_y : None
        pos_hint : {"center_x": 0.9, "center_y":0.5}
        id : numberGrid
        cols : 3
        rows : 3
        spacing : 0.5
        
    
<PauseScreen>:
    title : "Pause"
    size_hint : 0.6, 0.6
    Button:
        text: "Resume"
        on_release: root.dismiss()
       

<MainMenu>:
    name : "MainMenu"

    AnchorLayout:
        size_hint : 0.9, 0.1
        pos_hint : {"center_x": 0.5, "center_y":0.5}

        BoxLayout:

            Button:
                text: "Best Times"
                on_release:
                    root.manager.transition = SlideTransition()
                    root.manager.transition.direction = "right"
                    root.manager.current = "BestTimes"

            Button:
                text: "Classic"
                on_release: 
                    root.manager.transition = WipeTransition()
                    root.manager.current = "ClassicMenu"

            Button:
                text: "Multiplayer"
                on_release:
                    root.manager.transition = WipeTransition()
                    root.manager.current = "MultiplayerMenu"

            Button:
                text: "Account"
                on_release:
                    root.manager.transition = SlideTransition()
                    root.manager.transition.direction = "left"
                    root.manager.current = "AccountMenu"

<ClassicMenu>:
    name : "ClassicMenu"
    
    AnchorLayout:
        size_hint : 0.9, 0.1
        pos_hint : {"center_x": 0.5, "center_y":0.5}

        BoxLayout:

            Button:
                text: "Easy"
                on_release:
                    root.setDifficulty("easy")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"
            
            Button:
                text: "Normal"
                on_release:
                    root.setDifficulty("normal")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"

            Button:
                text: "Hard"
                on_release:
                    root.setDifficulty("hard")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"
            
            Button:
                text: "Extra Hard"
                on_release:
                    root.setDifficulty("extra_hard")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"

<MultiplayerMenu>:
    name : "MultiplayerMenu"
    AnchorLayout:
        size_hint : 0.9, 0.1
        pos_hint : {"center_x": 0.5, "center_y":0.5}

    Button:
        text: "Extra Hard"
        on_release:
            root.setDifficulty("extra_hard")
            root.manager.transition = FadeTransition()
            root.manager.current = "MultiplayerGame"
            root.manager.transition.direction = "right"


<AccountMenu>:
    name : "AccountMenu"
    AnchorLayout:
        size_hint : 0.9, 0.1
        pos_hint : {"center_x": 0.5, "center_y":0.5}

        BoxLayout:

            Button:
                text: "Login"
                on_release: 
                    root.manager.current = "Login"
            
            Button:
                text: "Register"
                on_release: 
                    root.manager.current = "Register"


            Button:
                text: "Logout"
                on_release: root.clickLogout()
                
            

<BestTimes>:
    name : "BestTimes"
    Button:
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition = FadeTransition()
            app.root.current = "MainMenu"
    AnchorLayout:
        size_hint : 0.8, 0.5
        pos_hint : {"center_x": 0.5, "center_y":0.5}
        
        #orientation : "horizontal"
        BoxLayout:
            spacing : 5
            BoxLayout:
                color: 1, 0, 0, 1
                orientation : "vertical"
                Label:
                    text: "Easy"
                Label:
                    text : root.get_topTime(0)
            BoxLayout:
                orientation : "vertical"
                Label:
                    text: "Normal"
                Label:
                    text :  root.get_topTime(1)
            BoxLayout:
                orientation : "vertical"
                Label:
                    text: "Hard"
                Label:
                    text :  root.get_topTime(2)
            BoxLayout:
                orientation : "vertical"
                Label:
                    text: "Extra Hard"
                Label:
                    text : root.get_topTime(3)





<ClassicGame>:
    name : "ClassicGame"
    Button:
        text: "Exit Game"
        size_hint : 0.08, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release: 
            root.manager.transition.direction = "down"
            root.manager.current = "ClassicMenu"

    

    

<MultiplayerGame>:
    name : "MultiplayerGame"
    Button:
        text: "Exit Game"
        size_hint : 0.08, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition.direction = "down"
            root.manager.current = "MultiplayerMenu"

    GridLayout:
        id : opponentGrid
        width: 175
        height: 175
        size_hint_x : None
        size_hint_y : None
        pos_hint : {"center_x": 0.9, "center_y":0.77}
        cols : 9
        rows : 9
        spacing : 0.1

    

            
<Login>:
    name : "Login"
    Button:
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition = FadeTransition()
            app.root.current = "AccountMenu"

    AnchorLayout:

        size_hint : 0.6, 0.4
        pos_hint : {"center_x": 0.5, "center_y":0.45}
        BoxLayout:
            orientation : "vertical"
            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Username"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id: username
                    hint_text : "username"
                    multiline : False

            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Password"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.5, 1
                    id : password
                    hint_text : "password"
                    multiline : False
                    password : True

                Button:
                    size_hint : 0.25, 1
                    text : "toggle mask"
                    on_press: root.togglePW()

            Label:
                text : ""

            Button:
                text:"Login"
                pos_hint: {"center_x" : 0.5}
                size_hint : 0.3, 0.8
                on_release : root.clickLogin()

            Label:
                text : ""
            Label:
                text : ""

            Button:
                text:"Remember Login"
                pos_hint: {"center_x" : 0.5}
                size_hint : 0.3, 0.8
                on_release : root.toggleRememberLogin()


<Register>:
    name : "Register"
    Button:
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition = FadeTransition()
            app.root.current = "AccountMenu"

    AnchorLayout:
        size_hint : 0.6, 0.3
        pos_hint : {"center_x": 0.5, "center_y":0.5}

        BoxLayout:
            orientation : "vertical"
            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Username"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id: username
                    hint_text : "username"
                    multiline : False

            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Password"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id : password1
                    hint_text : "password"
                    multiline : False
                    

            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Re-Enter Password"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id : password2
                    hint_text : "password"
                    multiline : False
                    

        
            Label:
                text : ""

            Button:
                text:"Create Account"
                pos_hint: {"center_x" : 0.5}
                size_hint : 0.3, 0.8
                on_release : root.clickRegister()

    




   
