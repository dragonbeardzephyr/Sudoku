#: import WipeTransition kivy.uix.screenmanager.WipeTransition
#: import SwapTransition kivy.uix.screenmanager.SwapTransition
#: import SlideTransition kivy.uix.screenmanager.SlideTransition
#: import FadeTransition kivy.uix.screenmanager.FadeTransition


MainMenuManager:
    MainMenu:

    ClassicMenu:
    ClassicGame:

    MultiplayerMenu:
    MultiplayerGame:

    AccountMenu:
    Login:
    Register:

    BestTimesMenu:
    BestTimes:
    

<MainMenuManager>:

<BaseScreen>:
    name : "BaseScreen"
    
    canvas.after:
        Rectangle:
            size: self.size
            source : root.borderFile

    

<Menu>:
    Button:
        name : "ReturnToMainMenu"
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition = FadeTransition()
            app.root.current = "MainMenu"

    


<GameScreen>:
    name : "GameScreen"

    Button:
        id : timer
        text: "00:00"
        background_color : 0, 1, 0.5, 1
        size_hint : 0.1, 0.07
        pos_hint : {"center_x" : 0.5, "top": 0.99}

    AnchorLayout:
        anchor_x: "center"
        anchor_y: "center"
        GridLayout:
            width: 600
            height: 600
            size_hint_x : None
            size_hint_y : None
            id : grid
            cols: 9
            rows: 9 
            spacing : 2

            
    GridLayout:
        width: 175
        height: 175
        size_hint_x : None
        size_hint_y : None
        pos_hint : {"center_x": 0.9, "center_y":0.6}
        id : numberGrid
        cols : 3
        rows : 3
        spacing : 0.5
        
    
<Pause>:
    Label:
        text: "Pause"
       

<MainMenu>:
    name : "MainMenu"

    AnchorLayout:
        size_hint : 0.9, 0.1
        pos_hint : {"center_x": 0.5, "center_y":0.5}

        BoxLayout:

            Button:
                text: "Best Times"
                on_release:
                    root.manager.transition = SlideTransition()
                    root.manager.transition.direction = "right"
                    root.manager.current = "BestTimes"

            Button:
                text: "Classic"
                on_release: 
                    root.manager.transition = WipeTransition()
                    root.manager.current = "ClassicMenu"

            Button:
                text: "Multiplayer"
                on_release:
                    root.manager.transition = WipeTransition()
                    root.manager.current = "Multiplayer"

            Button:
                text: "Account"
                on_release:
                    root.manager.transition = SlideTransition()
                    root.manager.transition.direction = "left"
                    root.manager.current = "AccountMenu"

<ClassicMenu>:
    name : "ClassicMenu"
    
    FloatLayout:
        Label:
            text : "Classic"

        BoxLayout:
            size_hint : 0.9, 0.1
            pos_hint : {"center_x": 0.5, "center_y":0.5}

            Button:
                text: "Easy"
                on_release:
                    root.setDifficulty("easy")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"
            
            Button:
                text: "Normal"
                on_release:
                    root.setDifficulty("normal")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"

            Button:
                text: "Hard"
                on_release:
                    root.setDifficulty("hard")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"
            
            Button:
                text: "Extra Hard"
                on_release:
                    root.setDifficulty("extra_hard")
                    root.manager.transition = FadeTransition()
                    root.manager.current = "ClassicGame"
                    root.manager.transition.direction = "right"

<MultiplayerMenu>:
    name : "Multiplayer"
    AnchorLayout:
        size_hint : 0.9, 0.1
        pos_hint : {"center_x": 0.5, "center_y":0.5}



<AccountMenu>:
    name : "AccountMenu"
    AnchorLayout:
        size_hint : 0.9, 0.1
        pos_hint : {"center_x": 0.5, "center_y":0.5}

        BoxLayout:

            Button:
                text: "Login"
                on_release: 
                    root.manager.current = "Login"
            
            Button:
                text: "Register"
                on_release: 
                    root.manager.current = "Register"


            Button:
                text: "Logout"
                on_release: root.clickLogout()
                
            

<BestTimesMenu>:
    name : "BestTimes"
    



<ClassicGame>:
    name : "ClassicGame"
    Button:
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release: 
            root.manager.transition.direction = "down"
            root.manager.current = "ClassicMenu"

    

    

<MultiplayerGame>:
    name : "MultiplayerGame"
    Button:
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition.direction = "down"
            root.manager.current = "MultiplayerMenu"

    

            
<Login>:
    name : "Login"
    Button:
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition = FadeTransition()
            app.root.current = "AccountMenu"

    AnchorLayout:

        size_hint : 0.6, 0.4
        pos_hint : {"center_x": 0.5, "center_y":0.45}
        BoxLayout:
            orientation : "vertical"
            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Username"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id: username
                    hint_text : "username"
                    multiline : False

            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Password"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.5, 1
                    id : password
                    hint_text : "password"
                    multiline : False
                    password : True

                Button:
                    size_hint : 0.25, 1
                    text : "toggle mask"
                    on_press: root.togglePW()

            Label:
                text : ""

            Button:
                text:"Login"
                pos_hint: {"center_x" : 0.5}
                size_hint : 0.3, 0.8
                on_release : root.clickLogin()

            Label:
                text : ""
            Label:
                text : ""

            Button:
                text:"Remember Login"
                pos_hint: {"center_x" : 0.5}
                size_hint : 0.3, 0.8
                on_release : root.toggleRememberLogin()


<Register>:
    name : "Register"
    Button:
        text: "Return"
        size_hint : 0.07, 0.04
        pos_hint : {"x":0.005, "top": 0.99}
        on_release:
            root.manager.transition = FadeTransition()
            app.root.current = "AccountMenu"

    AnchorLayout:
        size_hint : 0.6, 0.3
        pos_hint : {"center_x": 0.5, "center_y":0.5}

        BoxLayout:
            orientation : "vertical"
            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Username"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id: username
                    hint_text : "username"
                    multiline : False

            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Password"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id : password1
                    hint_text : "password"
                    multiline : False
                    password : True

            BoxLayout:
                Label:
                    size_hint : 0.25, 1
                    text : "Re-Enter Password"
                    color : 0, 1, 1, 1

                TextInput:
                    size_hint : 0.75, 1
                    id : password2
                    hint_text : "password"
                    multiline : False
                    password : True

            Label:
                text : ""

            Button:
                text:"Create Account"
                pos_hint: {"center_x" : 0.5}
                size_hint : 0.3, 0.8
                on_release : root.clickRegister()

    




   
